---
title: Javaåˆå­¦å®è·µ-åŸºç¡€çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ
date: 2023-05-22 14:27:01
permalink: /code/co0002
categories: 
  - ä¿¡æ¯æŠ€æœ¯
  - ä»£ç ç¼–å†™
tags: 
  - Java
author: 
  name: John Tao
  link: https://github.com/Draper-crypto/
---
## ä¸€ã€ä»»åŠ¡è¯´æ˜

1. ä½¿ç”¨ Java ç¼–å†™ä¸€ä¸ªåŸºç¡€çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ<!-- more -->
2. å¯ä»¥è¿æ¥åˆ° MySQL æ•°æ®åº“ï¼Œå¹¶æ”¯æŒä»¥ä¸‹åŠŸèƒ½:
   - å¢åŠ å­¦ç”Ÿè®°å½•
   - åˆ é™¤å­¦ç”Ÿè®°å½•
   - ä¿®æ”¹å­¦ç”Ÿè®°å½•
   - æŸ¥è¯¢å­¦ç”Ÿè®°å½•
   - é€€å‡ºç¨‹åº

## äºŒã€ä»£ç å®ç°

1. æºä»£ç 

```java
import java.sql.*;
import java.util.Scanner;

public class Student {
    private String name;
    private int age;
    private String gender;
    private String studentId;

    public Student(String name, int age, String gender, String studentId) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.studentId = studentId;
    }

    // è¿”å›å§“å
    public String getName() {
        return name;
    }

    // è¿”å›å¹´é¾„
    public int getAge() {
        return age;
    }

    // è¿”å›æ€§åˆ«
    public String getGender() {
        return gender;
    }

    // è¿”å›å­¦ç”ŸID
    public String getStudentId() {
        return studentId;
    }
}

class StudentManager {
    private static final String DB_URL = "jdbc:mysql://localhost:3306/mydatabase"; // æ•°æ®åº“URLåœ°å€
    private static final String DB_USER = "root"; // æ•°æ®åº“ç”¨æˆ·å
    private static final String DB_PASSWORD = "#####"; // æ•°æ®åº“å¯†ç 

    public static void main(String[] args) {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;

        try {
            // è¿æ¥åˆ°æ•°æ®åº“
            conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASSWORD);

            // åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡
            stmt = conn.createStatement();

            Scanner scanner = new Scanner(System.in);

            while (true) {
                // è¾“å‡ºèœå•é€‰é¡¹
                System.out.println("è¯·é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œï¼š");
                System.out.println("1. å¢åŠ å­¦ç”Ÿè®°å½•");
                System.out.println("2. åˆ é™¤å­¦ç”Ÿè®°å½•");
                System.out.println("3. ä¿®æ”¹å­¦ç”Ÿè®°å½•");
                System.out.println("4. æŸ¥è¯¢å­¦ç”Ÿè®°å½•");
                System.out.println("5. é€€å‡ºç¨‹åº");

                int choice = scanner.nextInt();

                if (choice == 1) {
                    // æ’å…¥ä¸€æ¡æ–°çš„å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå§“åï¼š");
                    String name = scanner.next();
                    if (!isValidName(name)) {
                        System.out.println("è¾“å…¥çš„å§“åä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå¹´é¾„ï¼š");
                    int age = scanner.nextInt();
                    if (!isValidAge(age)) {
                        System.out.println("è¾“å…¥çš„å¹´é¾„ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿæ€§åˆ«ï¼ˆç”·/å¥³ï¼‰ï¼š");
                    String gender = scanner.next();
                    if (!isValidGender(gender)) {
                        System.out.println("è¾“å…¥çš„æ€§åˆ«ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå­¦å·ï¼š(å­¦å·åº”ä¸º10ä½çº¯æ•°å­—)");
                    String studentId = scanner.next();
                    if (!isValidStudentId(studentId)) {
                        System.out.println("è¾“å…¥çš„å­¦å·ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }

                    // åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡å¹¶ä½¿ç”¨PreparedStatementæ’å…¥åˆ°æ•°æ®åº“ä¸­
                    Student student = new Student(name, age, gender, studentId);
                    String sql = "INSERT INTO students (name, age, gender, student_id) VALUES (?, ?, ?, ?)";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, student.getName());
                    pstmt.setInt(2, student.getAge());
                    pstmt.setString(3, student.getGender());
                    pstmt.setString(4, student.getStudentId());
                    pstmt.executeUpdate();

                    System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸæ’å…¥ï¼");
                } else if (choice == 2) {
                    // åˆ é™¤å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿå§“åï¼š");
                            String name = scanner.next();

                    // ä½¿ç”¨PreparedStatementåˆ é™¤æ•°æ®åº“ä¸­çš„å­¦ç”Ÿè®°å½•
                    String sql = "DELETE FROM students WHERE name = ?";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, name);
                    int count = pstmt.executeUpdate();

                    if (count == 0) { // å¦‚æœåˆ é™¤çš„è®°å½•æ•°ä¸º0ï¼Œåˆ™è¯´æ˜æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•
                        System.out.println("æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                    } else {
                        System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸåˆ é™¤ï¼");
                    }
                } else if (choice == 3) {
                    // æ›´æ–°å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥è¦ä¿®æ”¹çš„å­¦ç”Ÿå§“åï¼š");
                    String name = scanner.next();

                    // ä½¿ç”¨PreparedStatementæŸ¥è¯¢è¦ä¿®æ”¹çš„å­¦ç”Ÿè®°å½•
                    String sql = "SELECT * FROM students WHERE name = ?";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, name);
                    rs = pstmt.executeQuery();

                    if (!rs.next()) { // å¦‚æœæŸ¥è¯¢ç»“æœé›†ä¸ºç©ºï¼Œåˆ™è¯´æ˜æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•
                        System.out.println("æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                    } else {
                        int age = rs.getInt("age");

                        System.out.println("è¯·è¾“å…¥å­¦ç”Ÿæ–°çš„å¹´é¾„ï¼š");
                        age = scanner.nextInt();
                        if (!isValidAge(age)) {
                            System.out.println("è¾“å…¥çš„å¹´é¾„ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                            continue;
                        }

                        // ä½¿ç”¨PreparedStatementæ›´æ–°æ•°æ®åº“ä¸­çš„å­¦ç”Ÿè®°å½•
                        sql = "UPDATE students SET age = ? WHERE name = ?";
                        pstmt = conn.prepareStatement(sql);
                        pstmt.setInt(1, age);
                        pstmt.setString(2, name);
                        pstmt.executeUpdate();

                        System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸä¿®æ”¹ï¼");
                    }
                } else if (choice == 4) {
                    // æŸ¥è¯¢å­¦ç”Ÿè®°å½•
                    String sql = "SELECT * FROM students";
                    rs = stmt.executeQuery(sql);

                    // è¾“å‡ºæŸ¥è¯¢ç»“æœ
                    while (rs.next()) {
                        String name = rs.getString("name");
                        int age = rs.getInt("age");
                        String gender = rs.getString("gender");
                        String studentId = rs.getString("student_id");

                        // åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡å¹¶è¾“å‡ºå­¦ç”Ÿä¿¡æ¯
                        Student s = new Student(name, age, gender, studentId);
                        System.out.println("å§“åï¼š" + s.getName() + "ï¼Œå¹´é¾„ï¼š" + s.getAge() + "ï¼Œæ€§åˆ«ï¼š" + s.getGender() + "ï¼Œå­¦å·ï¼š" + s.getStudentId());
                    }
                } else if (choice == 5) {
                    // é€€å‡ºç¨‹åº
                    break;
                } else {
                    System.out.println("æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            // å…³é—­è¿æ¥
            try {
                if (rs != null) {
                    rs.close();
                }
                if (stmt != null) {
                    stmt.close();
                }
                if (conn != null) {
                    conn.close();
                }
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }

    // åˆ¤æ–­å§“åæ˜¯å¦åˆæ³•
    private static boolean isValidName(String name) {
        return name.matches("[\\u4E00-\\u9FA5]+");
    }

    // åˆ¤æ–­å¹´é¾„æ˜¯å¦åˆæ³•
    private static boolean isValidAge(int age) {
        return age >= 0 && age <= 150;
    }

    // åˆ¤æ–­æ€§åˆ«æ˜¯å¦åˆæ³•
    private static boolean isValidGender(String gender) {
        return gender.equals("ç”·")
                || gender.equals("å¥³");
    }

    // åˆ¤æ–­å­¦å·æ˜¯å¦åˆæ³•
    private static boolean isValidStudentId(String studentId) {
        return studentId.matches("\\d{10}");
    }
}
```

2. è¿è¡Œæˆªå›¾

ï¼ˆ1ï¼‰å¢åŠ å­¦ç”Ÿè®°å½•

![image-20230521230631089](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521230631089.png)

   ![image-20230521230758205](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521230758205.png)

ï¼ˆ2ï¼‰åˆ é™¤å­¦ç”Ÿè®°å½•

![image-20230521231003255](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231003255.png)

![image-20230521231104376](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231104376.png)

ï¼ˆ3ï¼‰ä¿®æ”¹å­¦ç”Ÿè®°å½•

![image-20230521231304699](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231304699.png)

![image-20230521231236569](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231236569.png)

![image-20230521231341929](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231341929.png)

ï¼ˆ4ï¼‰æŸ¥è¯¢å­¦ç”Ÿè®°å½•

![image-20230521231518851](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231518851.png)

ï¼ˆ5ï¼‰é€€å‡ºç¨‹åº

![image-20230521231606919](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521231606919.png)

ï¼ˆ6ï¼‰æ ¡éªŒåŠŸèƒ½

![image-20230521233319792](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521233319792.png)

![image-20230521233259094](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521233259094.png)

![image-20230521233352989](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521233352989.png)

![image-20230521233424718](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521233424718.png)

![image-20230521233444915](https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img/image-20230521233444915.png)

## ä¸‰ã€ä»£ç è§£é‡Š

1.`Student` ç±»

ï¼ˆ1ï¼‰ä»£ç 

```java
public class Student {
    private String name;
    private int age;
    private String gender;
    private String studentId;

    public Student(String name, int age, String gender, String studentId) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.studentId = studentId;
    }

    // è¿”å›å§“å
    public String getName() {
        return name;
    }

    // è¿”å›å¹´é¾„
    public int getAge() {
        return age;
    }

    // è¿”å›æ€§åˆ«
    public String getGender() {
        return gender;
    }

    // è¿”å›å­¦ç”ŸID
    public String getStudentId() {
        return studentId;
    }
}
```

ï¼ˆ2ï¼‰è§£é‡Š

`Student` ç±»æœ‰ä»¥ä¸‹å®ä¾‹å˜é‡ï¼š

- `name`ï¼šè¡¨ç¤ºå­¦ç”Ÿå§“åã€‚
- `age`ï¼šè¡¨ç¤ºå­¦ç”Ÿå¹´é¾„ã€‚
- `gender`ï¼šè¡¨ç¤ºå­¦ç”Ÿæ€§åˆ«ã€‚
- `studentId`ï¼šè¡¨ç¤ºå­¦ç”Ÿå­¦å·ã€‚

&emsp;&emsp;è¿™äº›å˜é‡çš„ç±»å‹åˆ†åˆ«æ˜¯ `String`ã€`int` å’Œ `String`ã€‚è¿™ä¸ªç±»è¿˜æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–è¿™äº›å˜é‡ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜å®šä¹‰äº†ä»¥ä¸‹å…¬å…±æ–¹æ³•ï¼š

- `getName()`ï¼šç”¨äºè·å–å­¦ç”Ÿå§“åã€‚
- `getAge()`ï¼šç”¨äºè·å–å­¦ç”Ÿå¹´é¾„ã€‚
- `getGender()`ï¼šç”¨äºè·å–å­¦ç”Ÿæ€§åˆ«ã€‚
- `getStudentId()`ï¼šç”¨äºè·å–å­¦ç”Ÿå­¦å·ã€‚

è¿™äº›æ–¹æ³•éƒ½è¿”å›äº†å¯¹åº”å˜é‡çš„å€¼ã€‚

2.`StudentManager `ç±»

ï¼ˆ1ï¼‰ä»£ç 

```java
class StudentManager {
    private static final String DB_URL = "jdbc:mysql://localhost:3306/mydatabase"; // æ•°æ®åº“URLåœ°å€
    private static final String DB_USER = "root"; // æ•°æ®åº“ç”¨æˆ·å
    private static final String DB_PASSWORD = "151505"; // æ•°æ®åº“å¯†ç 

    public static void main(String[] args) {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;

        try {
            // è¿æ¥åˆ°æ•°æ®åº“
            conn = DriverManager.getConnection(DB_URL, DB_USER, DB_PASSWORD);

            // åˆ›å»ºä¸€ä¸ªStatementå¯¹è±¡
            stmt = conn.createStatement();

            Scanner scanner = new Scanner(System.in);

            while (true) {
                // è¾“å‡ºèœå•é€‰é¡¹
                System.out.println("è¯·é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œï¼š");
                System.out.println("1. å¢åŠ å­¦ç”Ÿè®°å½•");
                System.out.println("2. åˆ é™¤å­¦ç”Ÿè®°å½•");
                System.out.println("3. ä¿®æ”¹å­¦ç”Ÿè®°å½•");
                System.out.println("4. æŸ¥è¯¢å­¦ç”Ÿè®°å½•");
                System.out.println("5. é€€å‡ºç¨‹åº");

                int choice = scanner.nextInt();

                if (choice == 1) {
                    // æ’å…¥ä¸€æ¡æ–°çš„å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå§“åï¼š");
                    String name = scanner.next();
                    if (!isValidName(name)) {
                        System.out.println("è¾“å…¥çš„å§“åä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå¹´é¾„ï¼š");
                    int age = scanner.nextInt();
                    if (!isValidAge(age)) {
                        System.out.println("è¾“å…¥çš„å¹´é¾„ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿæ€§åˆ«ï¼ˆç”·/å¥³ï¼‰ï¼š");
                    String gender = scanner.next();
                    if (!isValidGender(gender)) {
                        System.out.println("è¾“å…¥çš„æ€§åˆ«ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }
                    System.out.println("è¯·è¾“å…¥å­¦ç”Ÿå­¦å·ï¼š(å­¦å·åº”ä¸º10ä½çº¯æ•°å­—)");
                    String studentId = scanner.next();
                    if (!isValidStudentId(studentId)) {
                        System.out.println("è¾“å…¥çš„å­¦å·ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                        continue;
                    }

                    // åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡å¹¶ä½¿ç”¨PreparedStatementæ’å…¥åˆ°æ•°æ®åº“ä¸­
                    Student student = new Student(name, age, gender, studentId);
                    String sql = "INSERT INTO students (name, age, gender, student_id) VALUES (?, ?, ?, ?)";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, student.getName());
                    pstmt.setInt(2, student.getAge());
                    pstmt.setString(3, student.getGender());
                    pstmt.setString(4, student.getStudentId());
                    pstmt.executeUpdate();

                    System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸæ’å…¥ï¼");
                } else if (choice == 2) {
                    // åˆ é™¤å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥è¦åˆ é™¤çš„å­¦ç”Ÿå§“åï¼š");
                            String name = scanner.next();

                    // ä½¿ç”¨PreparedStatementåˆ é™¤æ•°æ®åº“ä¸­çš„å­¦ç”Ÿè®°å½•
                    String sql = "DELETE FROM students WHERE name = ?";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, name);
                    int count = pstmt.executeUpdate();

                    if (count == 0) { // å¦‚æœåˆ é™¤çš„è®°å½•æ•°ä¸º0ï¼Œåˆ™è¯´æ˜æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•
                        System.out.println("æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                    } else {
                        System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸåˆ é™¤ï¼");
                    }
                } else if (choice == 3) {
                    // æ›´æ–°å­¦ç”Ÿè®°å½•
                    System.out.println("è¯·è¾“å…¥è¦ä¿®æ”¹çš„å­¦ç”Ÿå§“åï¼š");
                    String name = scanner.next();

                    // ä½¿ç”¨PreparedStatementæŸ¥è¯¢è¦ä¿®æ”¹çš„å­¦ç”Ÿè®°å½•
                    String sql = "SELECT * FROM students WHERE name = ?";
                    PreparedStatement pstmt = conn.prepareStatement(sql);
                    pstmt.setString(1, name);
                    rs = pstmt.executeQuery();

                    if (!rs.next()) { // å¦‚æœæŸ¥è¯¢ç»“æœé›†ä¸ºç©ºï¼Œåˆ™è¯´æ˜æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•
                        System.out.println("æ•°æ®åº“ä¸­ä¸å­˜åœ¨è¯¥å­¦ç”Ÿè®°å½•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                    } else {
                        int age = rs.getInt("age");

                        System.out.println("è¯·è¾“å…¥å­¦ç”Ÿæ–°çš„å¹´é¾„ï¼š");
                        age = scanner.nextInt();
                        if (!isValidAge(age)) {
                            System.out.println("è¾“å…¥çš„å¹´é¾„ä¸åˆæ³•ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                            continue;
                        }

                        // ä½¿ç”¨PreparedStatementæ›´æ–°æ•°æ®åº“ä¸­çš„å­¦ç”Ÿè®°å½•
                        sql = "UPDATE students SET age = ? WHERE name = ?";
                        pstmt = conn.prepareStatement(sql);
                        pstmt.setInt(1, age);
                        pstmt.setString(2, name);
                        pstmt.executeUpdate();

                        System.out.println("å­¦ç”Ÿè®°å½•å·²æˆåŠŸä¿®æ”¹ï¼");
                    }
                } else if (choice == 4) {
                    // æŸ¥è¯¢å­¦ç”Ÿè®°å½•
                    String sql = "SELECT * FROM students";
                    rs = stmt.executeQuery(sql);

                    // è¾“å‡ºæŸ¥è¯¢ç»“æœ
                    while (rs.next()) {
                        String name = rs.getString("name");
                        int age = rs.getInt("age");
                        String gender = rs.getString("gender");
                        String studentId = rs.getString("student_id");

                        // åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡å¹¶è¾“å‡ºå­¦ç”Ÿä¿¡æ¯
                        Student s = new Student(name, age, gender, studentId);
                        System.out.println("å§“åï¼š" + s.getName() + "ï¼Œå¹´é¾„ï¼š" + s.getAge() + "ï¼Œæ€§åˆ«ï¼š" + s.getGender() + "ï¼Œå­¦å·ï¼š" + s.getStudentId());
                    }
                } else if (choice == 5) {
                    // é€€å‡ºç¨‹åº
                    break;
                } else {
                    System.out.println("æ— æ•ˆçš„é€‰æ‹©ï¼Œè¯·é‡æ–°è¾“å…¥ï¼");
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
        } finally {
            // å…³é—­è¿æ¥
            try {
                if (rs != null) {
                    rs.close();
                }
                if (stmt != null) {
                    stmt.close();
                }
                if (conn != null) {
                    conn.close();
                }
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }

    // åˆ¤æ–­å§“åæ˜¯å¦åˆæ³•
    private static boolean isValidName(String name) {
        return name.matches("[\\u4E00-\\u9FA5]+");
    }

    // åˆ¤æ–­å¹´é¾„æ˜¯å¦åˆæ³•
    private static boolean isValidAge(int age) {
        return age >= 0 && age <= 150;
    }

    // åˆ¤æ–­æ€§åˆ«æ˜¯å¦åˆæ³•
    private static boolean isValidGender(String gender) {
        return gender.equals("ç”·")
                || gender.equals("å¥³");
    }

    // åˆ¤æ–­å­¦å·æ˜¯å¦åˆæ³•
    private static boolean isValidStudentId(String studentId) {
        return studentId.matches("\\d{10}");
    }
}
```

ï¼ˆ2ï¼‰è§£é‡Š

&emsp;&emsp;`StudentManager` ç±»æ˜¯ä¸€ä¸ªåŒ…å« `main` æ–¹æ³•çš„ç±»ï¼Œå®ƒæ˜¯å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿçš„ä¸»è¦å®ç°ã€‚è¯¥ç±»é¦–å…ˆå®šä¹‰äº†ä¸‰ä¸ªç§æœ‰é™æ€å¸¸é‡ï¼Œè¿™äº›å¸¸é‡åˆ†åˆ«è¡¨ç¤ºæ•°æ®åº“çš„ URL åœ°å€ã€ç”¨æˆ·åå’Œå¯†ç ã€‚è¿™äº›å¸¸é‡åœ¨ç¨‹åºçš„å…¶ä»–ä½ç½®éƒ½å¯ä»¥è¢«è®¿é—®ã€‚

&emsp;&emsp;åœ¨ `main` æ–¹æ³•ä¸­ï¼Œå®ƒé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ª `Connection` å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç”¨äºè¿æ¥åˆ° MySQL æ•°æ®åº“ã€‚ç„¶åï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ª `Statement` å¯¹è±¡ï¼Œç”¨äºæ‰§è¡Œ SQL è¯­å¥ã€‚æ¥ä¸‹æ¥ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ª `while` å¾ªç¯æ¥æ˜¾ç¤ºèœå•é€‰é¡¹ã€è¯»å–ç”¨æˆ·è¾“å…¥å¹¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

- å¢åŠ å­¦ç”Ÿè®°å½•
- åˆ é™¤å­¦ç”Ÿè®°å½•
- ä¿®æ”¹å­¦ç”Ÿè®°å½•
- æŸ¥è¯¢å­¦ç”Ÿè®°å½•
- é€€å‡ºç¨‹åº

&emsp;&emsp;å¯¹äºæ¯ä¸ªæ“ä½œï¼Œä»£ç ä¼šæç¤ºç”¨æˆ·è¾“å…¥ç›¸åº”çš„ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ `PreparedStatement` å°†æ•°æ®æ’å…¥åˆ°æ•°æ®åº“ä¸­ã€‚åœ¨æŸ¥è¯¢å­¦ç”Ÿè®°å½•æ—¶ï¼Œä»£ç ä¼šæ‰§è¡Œä¸€ä¸ª `SELECT` è¯­å¥ï¼Œå¹¶ä½¿ç”¨ `ResultSet` å¯¹è±¡æ¥éå†ç»“æœé›†ã€‚æœ€åï¼Œä»£ç ä¼šå…³é—­è¿æ¥å’Œèµ„æºã€‚

&emsp;&emsp;æ­¤å¤–ï¼Œ`StudentManager` ç±»è¿˜åŒ…å«äº†å››ä¸ªç§æœ‰é™æ€æ–¹æ³•ï¼Œç”¨äºåˆ¤æ–­å­¦ç”Ÿä¿¡æ¯çš„åˆæ³•æ€§ã€‚è¿™äº›æ–¹æ³•åˆ†åˆ«æ˜¯ï¼š

- `isValidName(String name)`ï¼šç”¨äºåˆ¤æ–­å­¦ç”Ÿå§“åæ˜¯å¦åˆæ³•ã€‚
- `isValidAge(int age)`ï¼šç”¨äºåˆ¤æ–­å­¦ç”Ÿå¹´é¾„æ˜¯å¦åˆæ³•ã€‚
- `isValidGender(String gender)`ï¼šç”¨äºåˆ¤æ–­å­¦ç”Ÿæ€§åˆ«æ˜¯å¦åˆæ³•ã€‚
- `isValidStudentId(String studentId)`ï¼šç”¨äºåˆ¤æ–­å­¦ç”Ÿå­¦å·æ˜¯å¦åˆæ³•ã€‚

&emsp;&emsp;è¿™äº›æ–¹æ³•éƒ½è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå­¦ç”Ÿä¿¡æ¯æ˜¯å¦åˆæ³•ã€‚è¿™äº›æ–¹æ³•çš„å®ç°åˆ†åˆ«ä½¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼æˆ–ç®€å•çš„é€»è¾‘è¿ç®—ã€‚

## å››ã€æ€»ç»“

&emsp;&emsp;æœ¬ä»£ç å®ç°äº†åŸºæœ¬çš„å¢åŠ ã€åˆ é™¤ã€æ”¹æ­£çš„åŠŸèƒ½ï¼›å°†å­¦ç”Ÿä¿¡æ¯çš„åˆæ³•æ€§åˆ¤æ–­å°è£…æˆäº†å››ä¸ªé™æ€æ–¹æ³•ï¼Œå¯ä»¥åœ¨ä¸åŒçš„åœ°æ–¹é‡å¤ä½¿ç”¨ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ï¼›ä½¿ç”¨äº† `Connection` å’Œ `Statement` å¯¹è±¡è¿æ¥åˆ°äº† MySQL æ•°æ®åº“ï¼Œå¹¶ä½¿ç”¨äº† `PreparedStatement` æ‰§è¡Œ SQL è¯­å¥ã€‚

&emsp;&emsp;æœ¬ä»£ç çš„ç¼ºç‚¹ä¹Ÿååˆ†æ˜æ˜¾ï¼Œè™½ç„¶è¿™æ®µä»£ç ä½¿ç”¨äº† `PreparedStatement` æ¥é¿å… SQL æ³¨å…¥æ”»å‡»ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œä»»ä½•çš„æ ¡éªŒã€‚ä»£ç åªå®ç°äº†åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½ï¼Œå¦‚æœéœ€è¦æ·»åŠ å…¶ä»–åŠŸèƒ½ï¼Œå¦‚æŒ‰ç…§æˆç»©æ’åºç­‰ï¼Œä»£ç ç»“æ„å¯èƒ½éœ€è¦è¿›è¡Œè¾ƒå¤§çš„è°ƒæ•´ï¼Œå¯æ‹“å±•æ€§è¾ƒå·®ã€‚

&emsp;&emsp;æ€»ä½“æ¥è¯´ï¼Œè¿™æ®µä»£ç ä»…å®ç°äº†ä¸€ä¸ªç®€å•çš„å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿï¼Œç»“æ„æ¸…æ™°ï¼Œä»£ç æ˜“äºç†è§£ã€‚ä½†æ˜¯ï¼Œå®ƒè¿˜å­˜åœ¨ä¸€äº›å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§é—®é¢˜ï¼Œéœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚

## å›½å†…å¹³å°åˆ›ä½œé“¾æ¥

ğŸ‘‰çŸ¥ä¹ï¼š[ç‚¹å‡»è½¬è·³](https://zhuanlan.zhihu.com/p/631115016)

ğŸ‘‰CSDNï¼š[ç‚¹å‡»è½¬è·³](https://blog.csdn.net/Suprman88/article/details/130798706)

