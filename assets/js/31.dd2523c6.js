(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{357:function(t,s,e){"use strict";e.r(s);var a=e(4),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"本文涉及环境情况如下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本文涉及环境情况如下"}},[t._v("#")]),t._v(" 本文涉及环境情况如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("序号")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("环境名称")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("版本")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Flarum")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("1.8.5")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("PHP")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("8.2.10")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("3")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("MYSQL")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("8.2.0")])])])]),t._v(" "),s("h2",{attrs:{id:"报错如下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#报错如下"}},[t._v("#")]),t._v(" 报错如下：")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("/www/sites/flarum/index "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# composer require extiverse/mercury:*")]),t._v("\n./composer.json has been updated\nRunning "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" update extiverse/mercury\nLoading "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" repositories with package information\nUpdating dependencies\nYour requirements could not be resolved to an installable "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" of packages.\n\n  Problem "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    - extiverse/mercury"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(".2, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" require extiverse/api-client ^0.2.1 -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" satisfiable by extiverse/api-client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".1, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".\n    - extiverse/mercury"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(".1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" require extiverse/api-client ^0.2 -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" satisfiable by extiverse/api-client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".\n    - extiverse/api-client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" require guzzlehttp/guzzle "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".* -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" found guzzlehttp/guzzle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" but the package is fixed to "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.8")]),t._v(".1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lock "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" by a partial update and that version does not match. Make sure you list it as an argument "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the update command.\n    - extiverse/api-client "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".5 requires guzzlehttp/guzzle "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.4")]),t._v(".* -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" found guzzlehttp/guzzle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".0, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.4")]),t._v(".5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" but the package is fixed to "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.8")]),t._v(".1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lock "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" by a partial update and that version does not match. Make sure you list it as an argument "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the update command.\n    - extiverse/api-client "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".6 requires guzzlehttp/guzzle "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.4")]),t._v(".* "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.5")]),t._v(".* -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" found guzzlehttp/guzzle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.3")]),t._v(".0, "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.5")]),t._v(".3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" but the package is fixed to "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.8")]),t._v(".1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("lock "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" by a partial update and that version does not match. Make sure you list it as an argument "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" the update command.\n    - Root composer.json requires extiverse/mercury * -"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" satisfiable by extiverse/mercury"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.1")]),t._v(", "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("., "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.2")]),t._v(".0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(".\n\nUse the option --with-all-dependencies "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("-W"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" to allow upgrades, downgrades and removals "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" packages currently locked to specific versions.\n\nInstallation failed, reverting ./composer.json and ./composer.lock to their original content.\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("div",{staticClass:"center-container"},[s("p",[s("img",{attrs:{src:"https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img2/202402102243026.png",alt:"erorr"}})])]),s("h2",{attrs:{id:"解决方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方法"}},[t._v("#")]),t._v(" 解决方法")]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),s("p",[t._v("请备份所有数据再进行接下来的操作，此操作可能会导致网站不可用！")])]),t._v(" "),s("ol",[s("li",[s("strong",[t._v("报错原因")]),t._v("：主要问题是在安装过程中解决依赖关系。具体来说，"),s("code",[t._v("extiverse/mercury")]),t._v(" 包与你项目当前状态或相互之间存在依赖冲突。\n"),s("ul",[s("li",[s("code",[t._v("extiverse/mercury")]),t._v(" 需要 "),s("code",[t._v("extiverse/api-client")]),t._v("，而这个包在不同版本中对 "),s("code",[t._v("guzzlehttp/guzzle")]),t._v(" 包的要求不同。")]),t._v(" "),s("li",[s("code",[t._v("extiverse/api-client")]),t._v(" 的不同版本要求 "),s("code",[t._v("guzzlehttp/guzzle")]),t._v(" 的版本为 "),s("code",[t._v("7.3.*")]),t._v("、"),s("code",[t._v("7.4.*")]),t._v(" 或 "),s("code",[t._v("7.5.*")]),t._v("，但你的项目当前固定在另一个版本的 "),s("code",[t._v("guzzlehttp/guzzle")]),t._v("（7.8.1）。这导致了冲突，因为 Composer 无法同时满足这些版本要求。")])])]),t._v(" "),s("li",[s("strong",[t._v("解决方案建议")]),t._v("：Composer 建议使用 "),s("code",[t._v("--with-all-dependencies")]),t._v("（"),s("code",[t._v("-W")]),t._v("）选项。这个选项允许 Composer 尝试通过考虑当前特定版本锁定的包的更新、降级和移除来解决这些冲突。这意味着 Composer 将尝试调整所有依赖关系。")]),t._v(" "),s("li",[t._v("结果如图所示：")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("composer")]),t._v(" require extiverse/mercury:* "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-w")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("img",{attrs:{src:"https://typora-img-1301299232.cos.ap-shanghai.myqcloud.com/img2/202312280943423.png",alt:"QQ截图20231228094306"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);